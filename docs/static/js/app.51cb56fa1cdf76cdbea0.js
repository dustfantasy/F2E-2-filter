webpackJsonp([1],{"+skl":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a=i("Dd8w"),n=i.n(a),o=i("woOf"),r=i.n(o),l=i("Gu7T"),d=i.n(l),c=i("BO1k"),m=i.n(c),u={name:"todoitem",props:{Item:{type:Object},index:{type:Number}},data:function(){return{newItem:{title:"",deadLine:"",files:[],comment:""},titleClass:{todotitle:!0,"todotitle-star":this.Item.star,"todotitle-edit":!1},notice:[]}},created:function(){this.updateNotice(this.Item),this.init()},methods:{init:function(){this.newItem=n()({},this.Item),delete this.newItem.complete,delete this.newItem.edit,delete this.newItem.star,delete this.newItem.order},upload:function(){var t=this,e=document.getElementById("upload");e.click(),e.addEventListener("change",function(i){t.newItem.files=e.files})},setStar:function(){this.Item.star=!this.Item.star,this.titleClass["todotitle-star"]=this.Item.star},setComplete:function(){},editing:function(){this.Item.edit||(this.Item.edit=!0,this.titleClass["todotitle-edit"]=this.Item.edit,this.init())},cancel:function(){this.Item.edit=!1,this.titleClass["todotitle-edit"]=this.Item.edit,this.$emit("cancel"),this.init()},save:function(){this.newItem.title?(this.Item.edit=!1,this.titleClass["todotitle-edit"]=this.Item.edit,this.$emit("save",this.newItem,this.index),this.updateNotice(this.newItem),this.init()):alert("標題不能為空")},updateNotice:function(t){this.notice=[];var e=!0,i=!1,s=void 0;try{for(var a,n=m()(["deadLine","files","comment"]);!(e=(a=n.next()).done);e=!0){var o=a.value;t.hasOwnProperty(o)&&("files"===o&&0!==t[o].length?this.notice.push(o):"files"!==o&&""!==t[o]&&this.notice.push(o))}}catch(t){i=!0,s=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw s}}}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"todoitem"}},[i("section",[i("header",{class:t.titleClass},[i("Row",[i("Col",{attrs:{span:"1",offset:"3"}},[i("Checkbox",{attrs:{size:"large"},nativeOn:{click:function(e){return e.stopPropagation(),t.setComplete(e)}},model:{value:t.Item.complete,callback:function(e){t.$set(t.Item,"complete",e)},expression:"Item.complete"}})],1),t._v(" "),i("Col",{attrs:{span:"15",id:"titleInput"}},[i("Input",{directives:[{name:"show",rawName:"v-show",value:t.Item.edit,expression:"Item.edit"}],attrs:{placeholder:"Type Something Here...",disabled:t.Item.complete},model:{value:t.newItem.title,callback:function(e){t.$set(t.newItem,"title",e)},expression:"newItem.title"}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.Item.edit,expression:"!Item.edit"}],style:{textDecoration:t.Item.complete?"line-through":""}},[t._v(t._s(t.Item.title))])],1),t._v(" "),i("Col",{attrs:{span:"2",offset:"1"}},[i("Icon",{directives:[{name:"show",rawName:"v-show",value:!t.Item.star,expression:"!Item.star"}],staticStyle:{cursor:"pointer"},attrs:{type:"ios-star-outline"},on:{click:function(e){return e.stopPropagation(),t.setStar(e)}}}),t._v(" "),i("Icon",{directives:[{name:"show",rawName:"v-show",value:t.Item.star,expression:"Item.star"}],staticStyle:{color:"#F5A623",cursor:"pointer"},attrs:{type:"ios-star"},on:{click:function(e){return e.stopPropagation(),t.setStar(e)}}})],1),t._v(" "),i("Col",{attrs:{span:"2"}},[i("Icon",{directives:[{name:"show",rawName:"v-show",value:t.Item.edit,expression:"Item.edit"}],staticStyle:{color:"blue"},attrs:{type:"edit"}}),t._v(" "),i("Icon",{directives:[{name:"show",rawName:"v-show",value:!t.Item.edit,expression:"!Item.edit"}],staticStyle:{cursor:"pointer"},attrs:{type:"edit"},on:{click:t.editing}})],1)],1),t._v(" "),i("Row",{directives:[{name:"show",rawName:"v-show",value:!t.Item.edit,expression:"!Item.edit"}]},t._l(t.notice,function(e,s){return i("Col",{key:s,attrs:{span:"2",offset:0===s?4:0}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"deadLine"===e,expression:"notice==='deadLine'"}],staticClass:"fa fa-calendar"}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"files"===e,expression:"notice==='files'"}],staticClass:"fa fa-file-o"}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"comment"===e,expression:"notice==='comment'"}],staticClass:"fa fa-commenting-o"})])}))],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.Item.edit,expression:"Item.edit"}],staticClass:"todobody"},[i("Row",[i("Col",{attrs:{span:"1",offset:"4"}},[i("i",{staticClass:"fa fa-calendar"})]),t._v(" "),i("Col",{attrs:{span:"16"}},[t._v("Deadline")])],1),t._v(" "),i("Row",[i("Col",{attrs:{span:"16",offset:"5"}},[i("DatePicker",{attrs:{type:"datetime",disabled:t.Item.complete},model:{value:t.newItem.deadLine,callback:function(e){t.$set(t.newItem,"deadLine",e)},expression:"newItem.deadLine"}})],1)],1),t._v(" "),i("Row",[i("Col",{attrs:{span:"1",offset:"4"}},[i("i",{staticClass:"fa fa-file-o"})]),t._v(" "),i("Col",{attrs:{span:"16"}},[t._v("File")])],1),t._v(" "),i("Row",[i("Col",{attrs:{span:"15",offset:"5"}},[i("Row",[t._l(t.newItem.files,function(e,s){return i("Col",{key:s,attrs:{span:"8"}},[t._v(t._s(e.name))])}),t._v(" "),i("Col",{attrs:{span:"8"}},[i("Button",{attrs:{type:"ghost",icon:"plus",disabled:t.Item.complete},on:{click:t.upload}},[i("input",{attrs:{id:"upload",type:"file",hidden:""}})])],1)],2)],1)],1),t._v(" "),i("Row",[i("Col",{attrs:{span:"1",offset:"4"}},[i("i",{staticClass:"fa fa-commenting-o"})]),t._v(" "),i("Col",{attrs:{span:"16"}},[t._v("Comment")])],1),t._v(" "),i("Row",[i("Col",{attrs:{span:"16",offset:"5"}},[i("Input",{attrs:{type:"textarea",rows:4,placeholder:"Enter something...",disabled:t.Item.complete},model:{value:t.newItem.comment,callback:function(e){t.$set(t.newItem,"comment",e)},expression:"newItem.comment"}})],1)],1)],1),t._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:t.Item.edit,expression:"Item.edit"}],staticClass:"todofooter"},[i("Row",[i("Col",{staticClass:"cancel-button",attrs:{span:"12"}},[i("div",{on:{click:t.cancel}},[i("Icon",{attrs:{type:"ios-close-empty"}}),t._v(" Cancel\n          ")],1)]),t._v(" "),i("Col",{staticClass:"add-button",attrs:{span:"12"}},[i("div",{on:{click:t.save}},[i("Icon",{attrs:{type:"ios-plus-empty"}}),t._v(" Save\n          ")],1)])],1)],1)])])},staticRenderFns:[]};var v={name:"App",components:{todoitemEdit:i("VU/8")(u,p,!1,function(t){i("jnxn")},null,null).exports},data:function(){return{add:!1,item:{id:0,complete:!1,star:!1,edit:!0,title:"",deadLine:"",files:[],comment:""},newItem:{},itemList:[],viewItemList:[],nowPage:"My Tasks",order:[]}},created:function(){var t=document.getElementsByTagName("body")[0];t.addEventListener("drop",this.drop),t.addEventListener("dragover",this.allowDrop)},computed:{filterItemList:function(){var t=this,e={"In Progess":function(){return t.itemList.filter(function(t){return!t.complete})},Completed:function(){return t.itemList.filter(function(t){return t.complete})},"My Tasks":function(){return[].concat(d()(t.itemList))}};return e[this.nowPage]()}},methods:{drop:function(t,e){var i=t.dataTransfer.getData("id"),s=o.call(this,i);if(void 0===e)t.clientY<=145&&(n(this.itemList,s,0),n(this.order,s,0));else{var a=o.call(this,e);a=t.offsetY<50?a:a+1,n(this.itemList,s,a),n(this.order,s,a)}function n(t,e,i){var s=t[e];t.splice(e,1),t.splice(i,0,s)}function o(t){var e=void 0;return this.itemList.every(function(i,s){return i.id!=t||(e=s,!1)}),e}},allowDrop:function(t){t.preventDefault()},dropStart:function(t,e){t.dataTransfer.setData("id",e)},menuClick:function(t){"LI"===t.target.tagName&&(menu.getElementsByClassName("active")[0].classList.remove("active"),t.target.className="active",this.nowPage=t.target.innerText)},addTask:function(){this.add=!this.add,this.newItem=r()({},this.item),this.$refs.addTask.editing()},cancel:function(){this.add=!this.add},save:function(t,e){if(void 0!==e)r()(this.itemList[e],t);else{this.add=!this.add;var i=n()({},this.newItem,t,{id:this.itemList.length});this.itemList.unshift(i)}}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("header",{staticClass:"pageTitle"},[i("ul",{attrs:{id:"menu"},on:{click:t.menuClick}},[i("li",{staticClass:"active"},[t._v("My Tasks")]),t._v(" "),i("li",[t._v("In Progess")]),t._v(" "),i("li",[t._v("Completed")])])]),t._v(" "),i("main",[i("div",{attrs:{id:"addTask"}},[i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.add,expression:"!add"}],on:{click:t.addTask}},[i("Icon",{attrs:{type:"plus"}}),t._v(" Add Task\n      ")],1)],1),t._v(" "),i("todoitemEdit",{directives:[{name:"show",rawName:"v-show",value:t.add,expression:"add"}],ref:"addTask",attrs:{Item:t.newItem},on:{cancel:t.cancel,save:t.save}}),t._v(" "),t._l(t.filterItemList,function(e,s){return i("todoitemEdit",{key:e.id,attrs:{Item:e,index:s,draggable:"true"},on:{save:t.save,filterItemList:t.filterItemList},nativeOn:{dragover:function(e){e.stopPropagation(),t.allowDrop(e)},drop:function(i){i.stopPropagation(),t.drop(i,e.id)},dragstart:function(i){t.dropStart(i,e.id)}}})})],2)])},staticRenderFns:[]};var h=i("VU/8")(v,f,!1,function(t){i("SVWl")},null,null).exports,w=i("BTaQ"),I=i.n(w),_=(i("+skl"),i("mtWM")),C=i.n(_),g=i("Rf8U"),y=i.n(g);s.default.config.productionTip=!1,s.default.use(I.a),s.default.use(y.a,C.a),new s.default({el:"#app",components:{App:h},template:"<App/>"})},SVWl:function(t,e){},jnxn:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.51cb56fa1cdf76cdbea0.js.map